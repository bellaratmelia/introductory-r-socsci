<!DOCTYPE html>
<html lang="en"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.39">

  <meta name="author" content="Bella Ratmelia">
  <title>Introductory R for Social Sciences – Data Visualization and Descriptive Stats</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto-3c65e30e28be6599f015f6cc207dd28b.css">
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-G5L1RGYC4H"></script>

  <script type="text/javascript">

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
   
    gtag('consent', 'default', {
      'ad_storage': 'denied',
      'analytics_storage': 'denied'
    });
  gtag('config', 'G-G5L1RGYC4H', { 'anonymize_ip': true});
  </script>
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Data Visualization and Descriptive Stats</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Bella Ratmelia 
</div>
</div>
</div>

</section>
<section id="todays-outline" class="slide level2">
<h2>Today’s Outline</h2>
<ol type="1">
<li>Descriptive Statistics</li>
<li>Data Visualization in ggplot using World Values Survey data, including guidelines on how to choose the appropriate visualization.</li>
</ol>
</section>
<section id="checklist-when-you-start-rstudio" class="slide level2">
<h2>Checklist when you start RStudio</h2>
<ul>
<li>Load the project we created last session and open the R script file.</li>
<li>Make sure that <code>Environment</code> panel is empty (click on broom icon to clean it up)</li>
<li>Clear the <code>Console</code> and <code>Plots</code> too.</li>
<li>Re-run the <code>library(tidyverse)</code> and <code>read_csv</code> portion in the previous session</li>
</ul>
</section>
<section id="refresher-loading-from-csv-into-a-dataframe" class="slide level2">
<h2>Refresher: Loading from CSV into a dataframe</h2>
<p>Use <code>read_csv</code> from <code>readr</code> package (part of <code>tidyverse</code>) to load our data into a dataframe</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="co"># import tidyverse library</span></span>
<span id="cb1-2"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a></a></span>
<span id="cb1-4"><a></a><span class="co"># read the CSV with WVS data</span></span>
<span id="cb1-5"><a></a>wvs_cleaned <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data-output/wvs_cleaned_v1.csv"</span>)</span>
<span id="cb1-6"><a></a></span>
<span id="cb1-7"><a></a><span class="co"># Convert categorical variables to factors</span></span>
<span id="cb1-8"><a></a>columns_to_convert <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"country"</span>, <span class="st">"religiousity"</span>, <span class="st">"sex"</span>, <span class="st">"marital_status"</span>, <span class="st">"employment"</span>)</span>
<span id="cb1-9"><a></a></span>
<span id="cb1-10"><a></a>wvs_cleaned <span class="ot">&lt;-</span> wvs_cleaned <span class="sc">|&gt;</span> </span>
<span id="cb1-11"><a></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">all_of</span>(columns_to_convert), as_factor))</span>
<span id="cb1-12"><a></a></span>
<span id="cb1-13"><a></a><span class="co"># peek at the data, pay attention to the data types!</span></span>
<span id="cb1-14"><a></a><span class="fu">glimpse</span>(wvs_cleaned)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="recap-descriptive-statistics" class="slide level2">
<h2>Recap: Descriptive Statistics</h2>
<div>
<ul>
<li class="fragment"><p>Univariate (i.e.&nbsp;single variable) Descriptive Stats</p>
<ul>
<li class="fragment">Measures of central tendency: <code>mean()</code>, <code>median()</code>, <code>Mode()</code></li>
<li class="fragment">Measures of Variability: <code>min()</code>, <code>max()</code>, <code>range()</code>, <code>IQR()</code>, <code>sd()</code> (standard deviation), <code>var()</code> (variance)</li>
<li class="fragment">Distribution shape: <code>skewness()</code> and <code>kurtosis()</code> from <code>moments</code> library. This is easier to see with histogram</li>
</ul></li>
<li class="fragment"><p>Bivariate (i.e.&nbsp;two variables) Descriptive Stats</p>
<ul>
<li class="fragment">Contingency table / cross tab (for categorical data)</li>
<li class="fragment">Covariance - describe how two variables vary together</li>
<li class="fragment">Correlation - describe relationship strength and direction <strong>in a sample</strong>. (If we want to use this to infer about a population from a sample, it would fall under inferential stats)</li>
<li class="fragment">Visualizations e.g.&nbsp;Scatterplots, side-by-side boxplots, stacked bar charts, etc.</li>
</ul></li>
</ul>
</div>
</section>
<section id="from-last-week-basic-r-functions-for-descriptive-stats" class="slide level2">
<h2>From last week: Basic R Functions for Descriptive Stats</h2>
<p>Last week, we explored some basic R functions for descriptive statistics.</p>
<ul>
<li><code>mean()</code>: arithmetic average</li>
<li><code>median()</code>: middle value</li>
<li><code>sd()</code>: standard deviation</li>
<li><code>var()</code>: variance</li>
<li><code>range()</code>: range of values</li>
<li><code>IQR()</code>: interquartile range</li>
<li><code>summary()</code>: provides a summary of descriptive statistics</li>
<li><code>Mode()</code> function from <code>DescTools</code> package: the most frequently occuring value <sup>1</sup></li>
</ul>
<aside><ol class="aside-footnotes"><li id="fn1"><p>R doesn’t have built-in functions for mode, so we need <code>DescTools</code> package to get this function</p></li></ol></aside></section>
<section>
<section id="univariate-descriptive-stats" class="title-slide slide level1 center">
<h1>Univariate Descriptive Stats</h1>

</section>
<section id="measures-of-central-tendency" class="slide level2">
<h2>Measures of Central Tendency</h2>
<p>Let’s start by examining the <code>age</code> variable in our dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a><span class="fu">library</span>(DescTools)</span>
<span id="cb2-2"><a></a></span>
<span id="cb2-3"><a></a><span class="co"># Basic statistics</span></span>
<span id="cb2-4"><a></a>mean_age <span class="ot">&lt;-</span> <span class="fu">mean</span>(wvs_cleaned<span class="sc">$</span>age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-5"><a></a>median_age <span class="ot">&lt;-</span> <span class="fu">median</span>(wvs_cleaned<span class="sc">$</span>age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-6"><a></a>mode_age <span class="ot">&lt;-</span> DescTools<span class="sc">::</span><span class="fu">Mode</span>(wvs_cleaned<span class="sc">$</span>age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-7"><a></a></span>
<span id="cb2-8"><a></a><span class="co"># Print results</span></span>
<span id="cb2-9"><a></a><span class="fu">cat</span>(<span class="st">"Mean age:"</span>, mean_age, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>Mean age: 47.96408 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="fu">cat</span>(<span class="st">"Median age:"</span>, median_age, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Median age: 48 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a><span class="fu">cat</span>(<span class="st">"Most frequently occuring age:"</span>, mode_age, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>) <span class="co"># this is here just for demo purposes</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Most frequently occuring age: 54 </code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>How we can interpret / report this:</p>
<p><em>“The age distribution of this sample is fairly symmetrical, as indicated by the very close mean (48 years) and median (48 years) values. The mode of 54 years suggests a slight right-skew in the age distribution, with a cluster of participants in their mid-50s.”</em></p>
</section>
<section id="measures-of-variability-or-dispersion" class="slide level2">
<h2>Measures of Variability or Dispersion</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a>var_age <span class="ot">&lt;-</span> <span class="fu">var</span>(wvs_cleaned<span class="sc">$</span>age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-2"><a></a>sd_age <span class="ot">&lt;-</span> <span class="fu">sd</span>(wvs_cleaned<span class="sc">$</span>age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-3"><a></a>range_age <span class="ot">&lt;-</span> <span class="fu">range</span>(wvs_cleaned<span class="sc">$</span>age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-4"><a></a>iqr_age <span class="ot">&lt;-</span> <span class="fu">IQR</span>(wvs_cleaned<span class="sc">$</span>age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-5"><a></a></span>
<span id="cb8-6"><a></a><span class="fu">cat</span>(<span class="st">"Variance of age:"</span>, var_age, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>Variance of age: 279.6066 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a><span class="fu">cat</span>(<span class="st">"Standard deviation of age:"</span>, sd_age, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Standard deviation of age: 16.72144 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a><span class="fu">cat</span>(<span class="st">"Range of age:"</span>, range_age[<span class="dv">1</span>], <span class="st">"to"</span>, range_age[<span class="dv">2</span>], <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Range of age: 18 to 93 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a><span class="fu">cat</span>(<span class="st">"Interquartile range of age:"</span>, iqr_age, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Interquartile range of age: 28 </code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>How we can interpret / report this:</p>
<p><em>“The age distribution of this sample is fairly wide spread. With a standard deviation of 16.72144, suggesting that most individuals’ ages deviate from the mean by approximately 16.72 years. The range of ages spans from 18 to 93 years, which covers a wide range of age groups within the sample. The interquartile range (IQR) of 28 years, which represents the middle 50% of the data, indicates a moderately wide distribution of ages in the central portion of the dataset.”</em></p>
</section>
<section id="distribution-shape" class="slide level2">
<h2>Distribution Shape</h2>
<p>The function <code>skewness()</code> and <code>kurtosis()</code> is available through R package called <code>moments</code>. You may need to install it first before calling the library and its functions like in this code below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a></a><span class="fu">library</span>(moments)</span>
<span id="cb16-2"><a></a></span>
<span id="cb16-3"><a></a>skew_age <span class="ot">&lt;-</span> <span class="fu">skewness</span>(wvs_cleaned<span class="sc">$</span>age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-4"><a></a>kurtosis_age <span class="ot">&lt;-</span> <span class="fu">kurtosis</span>(wvs_cleaned<span class="sc">$</span>age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-5"><a></a></span>
<span id="cb16-6"><a></a><span class="fu">cat</span>(<span class="st">"Skewness of age:"</span>, skew_age, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>Skewness of age: 0.1009475 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a><span class="fu">cat</span>(<span class="st">"Kurtosis of age:"</span>, kurtosis_age, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Kurtosis of age: 2.018238 </code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>How we can interpret / report this:</p>
<p><em>“The age distribution has a very slight right skew (skewness = 0.10), meaning there are slightly more outliers toward older ages, but the skew is minimal since values between -0.5 and 0.5 are considered approximately symmetric. The kurtosis of 2.02 is lower than a normal distribution’s kurtosis of 3, indicating this distribution is platykurtic - it has lighter tails and is more uniform or”flatter” than a normal distribution.”</em></p>
</section>
<section id="visualizing-with-ggplot" class="slide level2">
<h2>Visualizing with ggplot</h2>
<ul>
<li><p>Describing the spread and shape of distribution with just words is not very productive, so typically it is accompanied with visualization.</p></li>
<li><p><code>ggplot</code> is plotting package that is included inside <code>tidyverse</code> package</p></li>
<li><p>works best with data in the long format, i.e., a column for all the dimensions/measures and another column for the value for each dimension/measure.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a>wvs_cleaned <span class="sc">|&gt;</span> </span>
<span id="cb20-2"><a></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb20-3"><a></a>    <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">color =</span> <span class="st">"navy"</span>) <span class="sc">+</span></span>
<span id="cb20-4"><a></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Age distribution of respondents"</span>,</span>
<span id="cb20-5"><a></a>         <span class="at">x =</span> <span class="st">"Age"</span>,</span>
<span id="cb20-6"><a></a>         <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb20-7"><a></a>    <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section>
<section id="visualizing-with-ggplot-output" class="slide level2 output-location-slide"><h2>Visualizing with ggplot</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-visualization_files/figure-html/unnamed-chunk-4-1.png" width="672"></p>
</figure>
</div>
</div>
</div></section><section id="anatomy-of-ggplot-code" class="slide level2">
<h2>Anatomy of ggplot code</h2>
<p>Charts built with ggplot must include the following:</p>
<div class="sourceCode" id="annotated-cell-12" data-code-line-numbers="|1|2|3|4-6|7"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-12-1" class="code-annotation-target"><a href="#annotated-cell-12-1"></a>wvs_cleaned <span class="sc">|&gt;</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-12-2" class="code-annotation-target"><a href="#annotated-cell-12-2"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-12-3" class="code-annotation-target"><a href="#annotated-cell-12-3"></a>    <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">color =</span> <span class="st">"navy"</span>) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-12-4" class="code-annotation-target"><a href="#annotated-cell-12-4"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Age distribution of respondents"</span>,</span>
<span id="annotated-cell-12-5"><a href="#annotated-cell-12-5"></a>         <span class="at">x =</span> <span class="st">"Age"</span>,</span>
<span id="annotated-cell-12-6"><a href="#annotated-cell-12-6"></a>         <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-12-7" class="code-annotation-target"><a href="#annotated-cell-12-7"></a>    <span class="fu">theme_minimal</span>()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-12" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="1" data-code-annotation="1"><strong>Data</strong> - the dataframe/tibble to visualize.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="2" data-code-annotation="2"><strong>Aesthetic mappings (aes)</strong> - describes which variables are mapped to the x, y axes, alpha (transparency) and other visual aesthetics.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="3" data-code-annotation="3"><strong>Geometric objects (geom)</strong> - describes how values are rendered; as bars, scatterplot, lines, etc.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="4,5,6" data-code-annotation="4">Provide titles and labels to your graph</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="7" data-code-annotation="5">(Optional) apply a theme/look to your graph</span>
</dd>
</dl>
</section>
<section id="tip-open-the-ggplot-cheatsheet" class="slide level2">
<h2>Tip: open the ggplot cheatsheet</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p><strong>A strategy I’d like to recommend:</strong> briefly read over the <code>ggplot2</code> documentation and have them open on a separate tab. Figure out the type of variables you need to visualize (discrete or continuous) to quickly identify which visualization would make sense.</p>
</div>
</div>
</div>

<img data-src="images/ggplot-cheatsheet.jpg" style="width:60.0%" class="r-stretch"><p><a href="https://rstudio.github.io/cheatsheets/html/data-visualization.html">ggplot documentation link</a></p>
</section>
<section id="going-back-to-our-univariate-descriptive-stats-on-age-variable" class="slide level2">
<h2>Going back to our univariate descriptive stats on <code>age</code> variable</h2>
<p>Let’s visualize the variability with boxplot to get a better sense of the spread.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a></a>wvs_cleaned <span class="sc">|&gt;</span> </span>
<span id="cb21-2"><a></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb21-3"><a></a>    <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">color =</span> <span class="st">"navy"</span>) <span class="sc">+</span></span>
<span id="cb21-4"><a></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Age distribution of respondents"</span>,</span>
<span id="cb21-5"><a></a>         <span class="at">x =</span> <span class="st">"Age"</span>) <span class="sc">+</span></span>
<span id="cb21-6"><a></a>    <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section>
<section id="going-back-to-our-univariate-descriptive-stats-on-age-variable-output" class="slide level2 output-location-slide"><h2>Going back to our univariate descriptive stats on <code>age</code> variable</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-visualization_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
</figure>
</div>
</div>
</div></section><section id="categorical-data---frequency-distribution" class="slide level2">
<h2>Categorical Data - Frequency Distribution</h2>
<ul>
<li><p>The <code>age</code> variable is a numerical / continuous data. We can’t apply <code>mean()</code>, <code>median()</code> and other central tendency measures to categorical data such as <code>age_group</code> or <code>employment_status</code>. We can, however, visualize them.</p></li>
<li><p>When dealing with categorical data, first take note on whether you want to visualize the <strong>proportion</strong> or the <strong>frequency distribution</strong>.</p></li>
<li><p>Let’s visualize the frequency distribution of survey participants by <code>country</code>:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a></a>wvs_cleaned <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> country, <span class="at">fill =</span> country)) <span class="sc">+</span></span>
<span id="cb22-2"><a></a>    <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb22-3"><a></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Participants by Country"</span>,</span>
<span id="cb22-4"><a></a>       <span class="at">x =</span> <span class="st">"Country"</span>,</span>
<span id="cb22-5"><a></a>       <span class="at">y =</span> <span class="st">"Participants"</span>) <span class="sc">+</span></span>
<span id="cb22-6"><a></a>    <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section>
<section id="categorical-data---frequency-distribution-output" class="slide level2 output-location-slide"><h2>Categorical Data - Frequency Distribution</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-visualization_files/figure-html/unnamed-chunk-6-1.png" width="672"></p>
</figure>
</div>
</div>
</div></section><section id="categorical-data---proportion" class="slide level2">
<h2>Categorical Data - Proportion</h2>
<p>When we want to show proportion (i.e.&nbsp;in terms of “parts of whole”), we must first quickly calculate the proportion with <code>count()</code></p>
<p>Let’s create a new dataframe called <code>wvs_country_proportion</code> to hold this data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a></a>wvs_country_proportion <span class="ot">&lt;-</span> wvs_cleaned <span class="sc">|&gt;</span> </span>
<span id="cb23-2"><a></a>    <span class="fu">group_by</span>(country) <span class="sc">|&gt;</span></span>
<span id="cb23-3"><a></a>    <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> <span class="co"># count the number of participants each country</span></span>
<span id="cb23-4"><a></a>    <span class="fu">mutate</span>(<span class="at">proportion =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)) <span class="co"># calculate proportion</span></span>
<span id="cb23-5"><a></a></span>
<span id="cb23-6"><a></a><span class="fu">print</span>(wvs_country_proportion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  country     n proportion
  &lt;fct&gt;   &lt;int&gt;      &lt;dbl&gt;
1 CAN      4018      0.628
2 NZL       660      0.103
3 SGP      1725      0.269</code></pre>
</div>
</div>
</section>
<section id="categorical-data---proportion-contd" class="slide level2">
<h2>Categorical Data - Proportion (cont’d)</h2>
<p>And then, we use this proportion table to create a pie chart by adding <code>coord_polar()</code> layer after <code>geom_bar()</code> and some changes in <code>aes()</code> and <code>geom_bar()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a></a>wvs_country_proportion <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> proportion, <span class="at">fill =</span> country)) <span class="sc">+</span></span>
<span id="cb25-2"><a></a>    <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">width =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb25-3"><a></a>    <span class="fu">coord_polar</span>(<span class="st">"y"</span>, <span class="at">start =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb25-4"><a></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Proportion of Participants by Country"</span>) <span class="sc">+</span></span>
<span id="cb25-5"><a></a>    <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


<aside><div>
<p>Note: if you have lots of categories, pie chart is not always the best option. The code for this pie chart is from <a href="https://r-graph-gallery.com/piechart-ggplot2.html">R Graph Gallery</a></p>
</div></aside></section>
<section id="categorical-data---proportion-contd-output" class="slide level2 output-location-slide"><h2>Categorical Data - Proportion (cont’d)</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-visualization_files/figure-html/unnamed-chunk-8-1.png" width="672"></p>
</figure>
</div>
</div>
</div></section><section id="learning-check-1a" class="slide level2">
<h2>Learning Check 1A</h2>
<p>Using the <code>wvs_cleaned</code> dataset:</p>
<p>Create a histogram that visualizes the distribution of <code>financial_satisfaction</code></p>
<div class="cell">
<details class="code-fold">
<summary>Show answer</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a></a>wvs_cleaned <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> financial_satisfaction)) <span class="sc">+</span></span>
<span id="cb26-2"><a></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">binwidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb26-3"><a></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Financial Satisfaction"</span>,</span>
<span id="cb26-4"><a></a>       <span class="at">x =</span> <span class="st">"Financial Satisfaction"</span>,</span>
<span id="cb26-5"><a></a>       <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb26-6"><a></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

</section>
<section id="learning-check-1a-output" class="slide level2 output-location-slide"><h2>Learning Check 1A</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-visualization_files/figure-html/unnamed-chunk-9-1.png" width="672"></p>
</figure>
</div>
</div>
</div></section><section id="learning-check-1b" class="slide level2">
<h2>Learning Check 1B</h2>
<p>Create a barchart that visualizes the frequency of <code>religiousity</code></p>
<div class="cell">
<details class="code-fold">
<summary>Show answer</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a></a>wvs_cleaned <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> religiousity, <span class="at">fill =</span> religiousity)) <span class="sc">+</span></span>
<span id="cb27-2"><a></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb27-3"><a></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Frequency of Religiosity"</span>,</span>
<span id="cb27-4"><a></a>       <span class="at">x =</span> <span class="st">"Religiosity"</span>,</span>
<span id="cb27-5"><a></a>       <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb27-6"><a></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

</section><section id="learning-check-1b-output" class="slide level2 output-location-slide"><h2>Learning Check 1B</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-visualization_files/figure-html/unnamed-chunk-10-1.png" width="672"></p>
</figure>
</div>
</div>
</div></section></section>
<section>
<section id="bivariate-descriptive-stats" class="title-slide slide level1 center">
<h1>Bivariate Descriptive Stats</h1>

</section>
<section id="three-combinations-in-bivariate-descriptive-stats" class="slide level2">
<h2>Three Combinations in Bivariate Descriptive Stats</h2>
<p>Bivariate descriptive statistics describe and summarize relationships between two variables in your dataset <strong>without making inferences about a larger population</strong>. They include numeric measures like correlation or covariance, and visualizations like scatterplots, side-by-side boxplots, or contingency tables.</p>
<p>Think of them as taking a snapshot of how two variables relate to each other in your current data.</p>
<p>Since data can be continuous or categorical, there can be three combinations when we deal with bivariate descriptive stats:</p>
<ol type="1">
<li>Both categorical (e.g.&nbsp;<code>age_group</code> and <code>country</code>)</li>
<li>Both continuous (e.g.&nbsp;<code>financial_satisfaction</code> and <code>life_satisfaction</code>)</li>
<li>One continuous, one categorical (e.g.&nbsp;<code>country</code> and <code>life_satisfaction</code>)</li>
</ol>
</section>
<section id="both-categorical" class="slide level2">
<h2>Both categorical</h2>
<ul>
<li><p>Examine relationships between categorical variables</p></li>
<li><p>Look at joint distributions and proportions</p></li>
<li><p>Compare group compositions</p></li>
</ul>
<p>First, let’s create a contingency table of <code>age_group</code> and <code>country</code>!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a></a><span class="fu">table</span>(wvs_cleaned<span class="sc">$</span>age_group, wvs_cleaned<span class="sc">$</span>country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       
         CAN  NZL  SGP
  18-28  712   27  246
  29-44 1232  119  511
  45-60 1061  222  550
  61+   1013  292  418</code></pre>
</div>
</div>
</section>
<section id="both-categorical-contd" class="slide level2">
<h2>Both categorical (cont’d)</h2>
<p>We can also create a proportion table just like we did earlier</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a></a>wvs_cleaned <span class="sc">|&gt;</span> </span>
<span id="cb30-2"><a></a>  <span class="fu">group_by</span>(country, age_group) <span class="sc">|&gt;</span> </span>
<span id="cb30-3"><a></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> <span class="co"># count the frequency of participants by age group and country </span></span>
<span id="cb30-4"><a></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)) <span class="co"># calculate proportion</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'country'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 4
# Groups:   country [3]
   country age_group     n   prop
   &lt;fct&gt;   &lt;chr&gt;     &lt;int&gt;  &lt;dbl&gt;
 1 CAN     18-28       712 0.177 
 2 CAN     29-44      1232 0.307 
 3 CAN     45-60      1061 0.264 
 4 CAN     61+        1013 0.252 
 5 NZL     18-28        27 0.0409
 6 NZL     29-44       119 0.180 
 7 NZL     45-60       222 0.336 
 8 NZL     61+         292 0.442 
 9 SGP     18-28       246 0.143 
10 SGP     29-44       511 0.296 
11 SGP     45-60       550 0.319 
12 SGP     61+         418 0.242 </code></pre>
</div>
</div>
</section>
<section id="both-categorical-contd-1" class="slide level2">
<h2>Both categorical (cont’d)</h2>
<p>For categorical data like this, we can use barchart to visualize the frequency distribution. Stacked bar chart can be used to visualize proportion.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a></a>wvs_cleaned <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> country, <span class="at">fill =</span> age_group)) <span class="sc">+</span></span>
<span id="cb33-2"><a></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span> </span>
<span id="cb33-3"><a></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Count"</span>, <span class="at">title =</span> <span class="st">"Age Groups by Country"</span>) <span class="sc">+</span></span>
<span id="cb33-4"><a></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<p>Change <code>position = "dodge"</code> to <code>position = "stack"</code> to stack the bar chart</p>
</section>
<section id="both-categorical-contd-1-output" class="slide level2 output-location-slide"><h2>Both categorical (cont’d)</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-visualization_files/figure-html/unnamed-chunk-13-1.png" width="672"></p>
</figure>
</div>
</div>
</div></section><section id="both-categorical-contd-2" class="slide level2">
<h2>Both categorical (cont’d)</h2>
<p>To get a better sense of the proportion for each country, we can use percent stacked bar chart.</p>
<p>The code is similar to previous bar charts; we just have to change the <code>position</code> argument to <code>position = "fill"</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a></a>wvs_cleaned <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> country, <span class="at">fill =</span> age_group)) <span class="sc">+</span></span>
<span id="cb34-2"><a></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span> </span>
<span id="cb34-3"><a></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Proportion"</span>, <span class="at">title =</span> <span class="st">"Age Groups by Country"</span>) <span class="sc">+</span></span>
<span id="cb34-4"><a></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section>
<section id="both-categorical-contd-2-output" class="slide level2 output-location-slide"><h2>Both categorical (cont’d)</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-visualization_files/figure-html/unnamed-chunk-14-1.png" width="672"></p>
</figure>
</div>
</div>
</div></section><section id="both-continuous" class="slide level2">
<h2>Both continuous</h2>
<ul>
<li><p>Examine linear relationships</p></li>
<li><p>Look for patterns and trends</p></li>
<li><p>Identify potential outliers</p></li>
</ul>
<p>Let’s first examine the correlation between <code>financial_satisfaction</code> and <code>life_satisfaction</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a></a><span class="fu">cor</span>(wvs_cleaned<span class="sc">$</span>financial_satisfaction, wvs_cleaned<span class="sc">$</span>life_satisfaction)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6420311</code></pre>
</div>
</div>
</section>
<section id="both-continuous-contd" class="slide level2">
<h2>Both continuous (cont’d)</h2>
<p>Let’s visualize the two variables together with a jitter / scatterplot!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a></a>wvs_cleaned <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> financial_satisfaction, <span class="at">y =</span> life_satisfaction)) <span class="sc">+</span></span>
<span id="cb37-2"><a></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb37-3"><a></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span> <span class="co"># layer with geom_smooth</span></span>
<span id="cb37-4"><a></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Financial vs Life Satisfaction"</span>) <span class="sc">+</span></span>
<span id="cb37-5"><a></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section>
<section id="both-continuous-contd-output" class="slide level2 output-location-slide"><h2>Both continuous (cont’d)</h2><div class="cell output-location-slide">
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-visualization_files/figure-html/unnamed-chunk-16-1.png" width="672"></p>
</figure>
</div>
</div>
</div></section><section id="correlation-plot" class="slide level2">
<h2>Correlation Plot</h2>
<p>When there are more than two continuous variables to explore, correlation map is sometimes used. We can achieve this with ggplot, but it’s much easier to use the <code>corrplot()</code> function from the <code>corrplot</code> package.</p>
<p>Let’s visualize the correlation map for these three variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a></a><span class="fu">library</span>(corrplot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


<aside><div>
<p>if you get an error saying “corrplot function not found” or something along that line, that means you need to install the corrplot package first! Run this line in your RStudio Console (bottom left area): <code>install.packages("corrplot")</code></p>
</div></aside></section>
<section id="correlation-plot-output" class="slide level2 output-location-slide"><h2>Correlation Plot</h2><div class="cell output-location-slide">
<div class="cell-output cell-output-stderr">
<pre><code>corrplot 0.95 loaded</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a></a><span class="co"># select all the columns for correlation calculation, save it to columns_for_corr</span></span>
<span id="cb41-2"><a></a>columns_for_corr <span class="ot">&lt;-</span> wvs_cleaned <span class="sc">|&gt;</span> </span>
<span id="cb41-3"><a></a>  <span class="fu">select</span>(financial_satisfaction, life_satisfaction, age)</span>
<span id="cb41-4"><a></a></span>
<span id="cb41-5"><a></a><span class="co"># pass the columns_for_corr to cor() function, and save the result to cor_matrix</span></span>
<span id="cb41-6"><a></a>cor_matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(columns_for_corr)</span>
<span id="cb41-7"><a></a></span>
<span id="cb41-8"><a></a><span class="co"># visualize the cor_matrix with corrplot()!</span></span>
<span id="cb41-9"><a></a><span class="fu">corrplot</span>(cor_matrix,</span>
<span id="cb41-10"><a></a>         <span class="at">method =</span> <span class="st">"shade"</span>, <span class="co"># show the correlation strength as color shades</span></span>
<span id="cb41-11"><a></a>         <span class="at">addCoef.col =</span> <span class="st">"black"</span>, <span class="at">tl.col =</span> <span class="st">"black"</span>) <span class="co"># label the coefficients</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-visualization_files/figure-html/unnamed-chunk-17-1.png" width="672"></p>
</figure>
</div>
</div>
</div></section><section id="correlation-plot---shorter-code" class="slide level2">
<h2>Correlation Plot - shorter code</h2>
<p>We can shorten the code in the previous slide using the maggritr pipe <code>|&gt;</code> like so:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a></a>wvs_cleaned <span class="sc">|&gt;</span> </span>
<span id="cb42-2"><a></a>    <span class="fu">select</span>(financial_satisfaction, life_satisfaction, age) <span class="sc">|&gt;</span> </span>
<span id="cb42-3"><a></a>    <span class="fu">cor</span>() <span class="sc">|&gt;</span> </span>
<span id="cb42-4"><a></a>    <span class="fu">corrplot</span>(<span class="at">method =</span> <span class="st">"shade"</span>, <span class="co"># show the correlation strength as color shades</span></span>
<span id="cb42-5"><a></a>         <span class="at">addCoef.col =</span> <span class="st">"black"</span>, <span class="at">tl.col =</span> <span class="st">"black"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<p><strong>Refresher:</strong></p>
<p>Notice that we don’t have to pass the column names to <code>cor()</code> and <code>corrplot()</code> function. This is because the maggritr pipe <code>|&gt;</code>, acts as a “conveyor belt” that take output from one step and then immediately feed it to the next step.</p>
</section>
<section id="correlation-plot---shorter-code-output" class="slide level2 output-location-slide"><h2>Correlation Plot - shorter code</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-visualization_files/figure-html/unnamed-chunk-18-1.png" width="672"></p>
</figure>
</div>
</div>
</div></section><section id="one-continuous-one-categorical" class="slide level2">
<h2>One continuous, one categorical</h2>
<ul>
<li><p>Compare distributions across groups</p></li>
<li><p>Identify group differences</p></li>
<li><p>Examine spread within groups</p></li>
</ul>
<p>Let’s do a recap from last week and get the summary stats for <code>life_satisfaction</code> for each <code>country</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a></a>wvs_cleaned <span class="sc">|&gt;</span> </span>
<span id="cb43-2"><a></a>  <span class="fu">group_by</span>(country) <span class="sc">|&gt;</span> </span>
<span id="cb43-3"><a></a>  <span class="fu">summarise</span>(</span>
<span id="cb43-4"><a></a>    <span class="at">mean_satisfaction =</span> <span class="fu">mean</span>(life_satisfaction, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-5"><a></a>    <span class="at">median_satisfaction =</span> <span class="fu">median</span>(life_satisfaction, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-6"><a></a>    <span class="at">sd_satisfaction =</span> <span class="fu">sd</span>(life_satisfaction, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb43-7"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
  country mean_satisfaction median_satisfaction sd_satisfaction
  &lt;fct&gt;               &lt;dbl&gt;               &lt;dbl&gt;           &lt;dbl&gt;
1 CAN                  7.04                   7            1.81
2 NZL                  7.60                   8            1.79
3 SGP                  7.06                   7            1.78</code></pre>
</div>
</div>
</section>
<section id="one-continuous-one-categorical-contd" class="slide level2">
<h2>One continuous, one categorical (cont’d)</h2>
<p>To get a better sense of how the data is varied and spread, let’s visualize them with a side-by-side boxplot</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a></a>wvs_cleaned <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> country, <span class="at">y =</span> life_satisfaction)) <span class="sc">+</span></span>
<span id="cb45-2"><a></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb45-3"><a></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Life Satisfaction by Country"</span>) <span class="sc">+</span></span>
<span id="cb45-4"><a></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section>
<section id="one-continuous-one-categorical-contd-output" class="slide level2 output-location-slide"><h2>One continuous, one categorical (cont’d)</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-visualization_files/figure-html/unnamed-chunk-20-1.png" width="672"></p>
</figure>
</div>
</div>
</div></section><section id="one-continuous-one-categorical-contd-1" class="slide level2">
<h2>One continuous, one categorical (cont’d)</h2>
<p>We could also layer our boxplots with violin plots to get a better sense of the distribution of each group.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a></a>wvs_cleaned <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> country, <span class="at">y =</span> life_satisfaction)) <span class="sc">+</span></span>
<span id="cb46-2"><a></a>  <span class="fu">geom_violin</span>(<span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb46-3"><a></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">fill =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb46-4"><a></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Life Satisfaction Distribution by Country"</span>) <span class="sc">+</span></span>
<span id="cb46-5"><a></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section>
<section id="one-continuous-one-categorical-contd-1-output" class="slide level2 output-location-slide"><h2>One continuous, one categorical (cont’d)</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-visualization_files/figure-html/unnamed-chunk-21-1.png" width="672"></p>
</figure>
</div>
</div>
</div></section><section id="how-to-save-your-images---ggsave" class="slide level2">
<h2>How to save your images - ggsave</h2>
<p>There are two ways to do this:</p>
<ol type="1">
<li><p>Via <code>ggsave</code></p></li>
<li><p>The point-and-click way in RStudio</p></li>
</ol>
<p>Below is the <code>ggsave</code> way:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a></a><span class="co"># save the chart into an object instead of viewing it like we have been doing</span></span>
<span id="cb47-2"><a></a>boxplot_obj <span class="ot">&lt;-</span> wvs_cleaned <span class="sc">|&gt;</span> </span>
<span id="cb47-3"><a></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb47-4"><a></a>    <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">color =</span> <span class="st">"navy"</span>) <span class="sc">+</span></span>
<span id="cb47-5"><a></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Age distribution of respondents"</span>,</span>
<span id="cb47-6"><a></a>         <span class="at">x =</span> <span class="st">"Age"</span>) <span class="sc">+</span></span>
<span id="cb47-7"><a></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb47-8"><a></a></span>
<span id="cb47-9"><a></a><span class="co"># pass the saved chart into ggsave and give it a filename</span></span>
<span id="cb47-10"><a></a><span class="fu">ggsave</span>(<span class="st">"fig-output/boxplot_1.jpg"</span>, boxplot_obj) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="how-to-save-your-images---point-and-click" class="slide level2">
<h2>How to save your images - point-and-click</h2>

<img data-src="images/howto-save-charts.jpg" class="r-stretch"></section>
<section id="learning-check-2" class="slide level2">
<h2>Learning Check #2</h2>
<p>Create a side-by-side boxplots that visualizes <code>political_scale</code> for each <code>sex</code>.</p>
<div class="cell">
<details class="code-fold">
<summary>Show answer</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a></a>wvs_cleaned <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> political_scale, <span class="at">y =</span> sex)) <span class="sc">+</span></span>
<span id="cb48-2"><a></a>  <span class="fu">geom_violin</span>(<span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb48-3"><a></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">fill =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb48-4"><a></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Political scale Distribution by Sex"</span>) <span class="sc">+</span></span>
<span id="cb48-5"><a></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

</section>
<section id="learning-check-2-output" class="slide level2 output-location-slide"><h2>Learning Check #2</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-visualization_files/figure-html/unnamed-chunk-22-1.png" width="672"></p>
</figure>
</div>
</div>
</div></section><section id="using-facets-for-more-complex-visual" class="slide level2">
<h2>Using Facets for more complex visual</h2>
<ul>
<li><p>Compare patterns across multiple subgroups</p></li>
<li><p>Identify interaction effects</p></li>
<li><p>Maintain visual clarity with complex relationships</p></li>
</ul>
<p>Facet grids are useful when we have more than two variables to visualize. However, if used excessively they may become too complex</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a></a>wvs_cleaned <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> financial_satisfaction, <span class="at">y =</span> life_satisfaction)) <span class="sc">+</span></span>
<span id="cb49-2"><a></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb49-3"><a></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb49-4"><a></a>  <span class="fu">facet_grid</span>(country <span class="sc">~</span> religiousity)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section>
<section id="using-facets-for-more-complex-visual-output" class="slide level2 output-location-slide"><h2>Using Facets for more complex visual</h2><div class="cell output-location-slide">
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-visualization_files/figure-html/unnamed-chunk-23-1.png" width="672"></p>
</figure>
</div>
</div>
</div></section><section id="is-fancier-better" class="slide level2">
<h2>Is fancier = better?</h2>
<p>Fancier, more complicated visualization does not necessarily mean better!</p>
<p>Take a look at this award-winning visualization by <a href="http://www.simonscarr.com/iraqs-bloody-toll">Simon Scarr</a></p>

<img data-src="https://images.squarespace-cdn.com/content/v1/54b5070de4b01c9a0176b5fd/1428238676197-BAJMDLGPHID08CCOHVDN/image-asset.png?format=1000w" class="r-stretch"></section></section>
<section id="end-of-session-3" class="title-slide slide level1 center">
<h1>End of Session 3!</h1>
<p>Remember the strategy:</p>
<ol type="1">
<li>Have the ggplot documentation/cheatsheet open</li>
<li>Decide on how many variables are involved. Is it just one? two? more than two?</li>
<li>Determine whether the variables are categorical or continuous. If you have more than one, are they both categorical? one categorical + one continuous?</li>
<li>Refer to the documentation to see which type of visualization would make sense for your variables.</li>
</ol>
<p>Check out the <a href="https://r-graph-gallery.com/">R Graph gallery</a> for inspiration and code samples!</p>
<p>Next session: inferential stats in R using WVS data</p>


</section>


    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="images/smu logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://bellaratmelia.github.io/introductory-r-socsci/">Introductory R for Social Science</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/bellaratmelia\.github\.io\/introductory-r-socsci\/");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>