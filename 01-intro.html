<!DOCTYPE html>
<html lang="en"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.39">

  <meta name="author" content="Bella Ratmelia &amp; Wei XIA">
  <title>Introductory R for Social Sciences – Introduction to R and RStudio</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto-3c65e30e28be6599f015f6cc207dd28b.css">
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-G5L1RGYC4H"></script>

  <script type="text/javascript">

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
   
    gtag('consent', 'default', {
      'ad_storage': 'denied',
      'analytics_storage': 'denied'
    });
  gtag('config', 'G-G5L1RGYC4H', { 'anonymize_ip': true});
  </script>
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Introduction to R and RStudio</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Bella Ratmelia &amp; Wei XIA 
</div>
</div>
</div>

</section>
<section>
<section id="welcome" class="title-slide slide level1 center">
<h1>Welcome!</h1>

</section>
<section id="preamble" class="slide level2">
<h2>Preamble</h2>
<ul>
<li><p>About Bella:</p>
<ul>
<li><p>Senior Librarian, Research &amp; Data Services team, SMU Libraries.</p></li>
<li><p>Bachelor in Info Tech (IT), MSc in Info Studies from NTU.</p></li>
<li><p>Have been with SMU since the pandemic era (2021).</p></li>
<li><p>Have been doing this workshop since Aug 2023.</p></li>
</ul></li>
<li><p>About Wei:</p>
<ul>
<li><p>Principle Librarian, Instruction and Learning Services, SMU Libraries.</p></li>
<li><p>Have been with SMU over 16 years. This is my first R workshop!</p></li>
</ul></li>
<li><p>About this workshop:</p>
<ul>
<li><p>Live-coding format; code along with me!</p></li>
<li><p>Goal of workshop: to give you enough fundamentals (at least to the point that ChatGPT can’t bluff you so easily) and confidence to explore R on your own.</p></li>
<li><p>Don’t be afraid to ask for help! We are all here to learn.</p></li>
</ul></li>
</ul>
</section>
<section id="the-outline-for-these-workshops" class="slide level2">
<h2>The outline for these workshops</h2>
<p>The workshops are structured to follow this workflow when dealing with data <img data-src="images/data-workflow.png"></p>

<aside><div>
<p>Image is taken from <a href="https://r4ds.hadley.nz/intro">R for Data Science (2e)</a> by Hadley Wickham.</p>
</div></aside></section>
<section id="the-outline-for-introductory-r-for-social-science-series" class="slide level2">
<h2>The outline for Introductory R for Social Science series</h2>
<div>
<ol type="1">
<li class="fragment"><strong>Import</strong> data into R, which means take data (stored in a file, via API, etc) and load it into a dataframe in R</li>
<li class="fragment"><strong>Tidy</strong> the imported data.
<ul>
<li class="fragment">Tidy = storing it in a consistent form that matches the semantics of the dataset.</li>
<li class="fragment">Tidy data = each column is a variable, each row is an observation</li>
</ul></li>
<li class="fragment">Once a data is tidy, we can <strong>transform</strong> it. Transformation includes:
<ul>
<li class="fragment">narrowing in on observations of interest (like all people in one city or all data from the last year)</li>
<li class="fragment">creating new variables that are functions of existing variables (like computing speed from distance and time)</li>
<li class="fragment">calculating a set of summary statistics (like counts or means).</li>
</ul></li>
<li class="fragment">Once we have tidy data with the info we need, we can <strong>visualize</strong> it and <strong>model</strong> it.</li>
<li class="fragment"><strong>Communicate</strong> the result. It doesn’t matter how well your models and visualization have led you to understand the data unless you can also communicate your results to others.</li>
</ol>
</div>
</section>
<section id="todays-plan" class="slide level2">
<h2>Today’s plan</h2>
<ul>
<li>R and Rstudio</li>
<li>Before coding</li>
<li>R Objects and Values</li>
<li>Data types</li>
<li>Functions and packages</li>
<li>Data structures</li>
<li>Exploring datasets</li>
<li>Trouble shooting tips</li>
<li>Recap &amp; feedback</li>
</ul>
</section>
<section id="what-is-r-what-is-r-studio" class="slide level2">
<h2>What is R? What is R Studio?</h2>
<p><strong>R</strong>: R is an open-source programming language that was developed for statistical analysis and visualization. Community share R codes and create shortcuts.</p>
<p><strong>RStudio:</strong> The R software environment i.e.&nbsp;RStudio is where we use to interact more easily with R language and scripts.</p>
<div class="fragment">
<p>You will need to install <strong>both</strong> for this workshop. Go to <a href="https://posit.co/download/rstudio-desktop" class="uri">https://posit.co/download/rstudio-desktop</a> to download and install both if you have not done so. Remember: Install R firstly and then RStudio.</p>
<p>Check out the course website for a step-by-step guide.</p>
</div>
</section>
<section id="a-tour-of-rstudio" class="slide level2">
<h2>A Tour of RStudio</h2>
<p>Firstly, we need to be comfortable with the RStudio interface. We will use the RStudio to write code, navigate the files on our computer, inspect the variables we create, and visualize the plots we generate.</p>

<img data-src="images/rstudio-tour.jpg" class="r-stretch quarto-figure-center"><p class="caption">R Studio layout</p></section>
<section id="before-coding" class="slide level2">
<h2>Before Coding</h2>
<ul>
<li>Setting up working directory</li>
<li>Creating projects</li>
<li>Creating folders and files</li>
</ul>
</section>
<section class="slide level2">

<h3 id="setting-up-working-directory">Setting Up Working Directory</h3>
<ul>
<li><p>Working directory -&gt; where R will look for files (scripts, data, etc). Stay organized with all files and folders related to a project stored in one place.</p>
<ul>
<li><p>By default, it will be on your Desktop.</p></li>
<li><p>Best practice is to use <strong>R Project</strong> to organize your files and data into projects.</p></li>
<li><p>When using R Project, the working directory = project folder.</p></li>
</ul></li>
</ul>
<h3 id="creating-the-project-for-this-workshop">Creating the project for this workshop</h3>
<ol type="1">
<li><p>Go to <code>File</code> &gt; <code>New project</code>. Choose <code>New directory</code>, then <code>New project</code></p></li>
<li><p>Enter <code>intro-r-socsci</code> as the name for this new folder (or “directory”) and choose where you want to put this folder, e.g.&nbsp;<code>Desktop</code> or <code>Documents</code> if you are on Windows. This will be your working directory for the rest of the workshop!</p></li>
</ol>
</section>
<section class="slide level2">

<h3 id="creating-folders-inside-our-working-directory">Creating folders inside our working directory</h3>
<ul>
<li><p><code>data</code> - we will save our raw data here. <strong>It’s best practice to keep the data here untouched.</strong></p></li>
<li><p><code>data-output</code> - if we need to modify raw data, store the modified version here.</p></li>
<li><p><code>fig-output</code> - we will save all the graphics we created here!</p></li>
</ul>
<h3 id="notes">Notes</h3>
<p>Don’t:</p>
<ul>
<li><p>Don’t put your R projects inside your OneDrive folder as that may cause issues sometimes.</p></li>
<li><p>Folder/file names should avoid spaces, symbols, and special characters. Prefer folder/file names that are all in lower case.</p></li>
</ul>
<p>Do:</p>
<ul>
<li>If for some reason your working directory is not what it should be change the working directory in the RStudio interface by navigating in the file browser to where your working directory should be, clicking on the blue gear icon “More”, and selecting “Set As Working Directory”.</li>
</ul>
</section></section>
<section>
<section id="lets-code" class="title-slide slide level1 center">
<h1>Let’s Code!</h1>
<p>Create a new R script - <code>File</code> &gt; <code>New File</code> &gt; <code>R script</code>.</p>
<p>RStudio allows you to execute commands directly from the script editor by using the Ctrl + Enter shortcut (on Mac, Cmd + Return will work).</p>
<p>You can type commands directly into the console and press Enter to execute those commands, but they will be forgotten when you close the session. It is better to type the commands in the script editor and save the script. This way, there is a complete record and can easily replicate the results.</p>
<p><strong>Note: RStudio does not autosave your progress, so remember to save from time to time!</strong></p>
</section>
<section id="r-objects-and-values" class="slide level2">
<h2>R Objects and Values</h2>
<p>In this line of code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a>country_name <span class="ot">&lt;-</span> <span class="st">"Singapore"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>"Singapore"</code> is a <strong>value</strong>. This can be either a character, numeric, or boolean data type. (more on this soon)</li>
<li><code>country_name</code> is the <strong>object</strong> where we store this value. This is so that we can keep this value to be used later.</li>
<li><code>&lt;-</code> is the assignment operator to assign the value to the object.
<ul>
<li>You can also use <code>=</code>, but generally in R, <code>&lt;-</code> is the convention.</li>
<li>Keyboard shortcut: <code>Alt</code> + <code>-</code> in Windows (<code>Option</code> + <code>-</code> in Mac)</li>
</ul></li>
</ul>
</section>
<section id="r-objects-and-values-1" class="slide level2">
<h2>R Objects and Values</h2>
<p>In this line of code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a>country_name <span class="ot">&lt;-</span> <span class="st">"Singapore"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p><code>"Singapore"</code> is a <strong>value</strong>. This can be either a character, numeric, or boolean data type. (more on this soon)</p></li>
<li><p><code>country_name</code> is the <strong>object</strong> where we store this value. This is so that we can keep this value to be used later.</p></li>
<li><p><code>&lt;-</code> is the assignment operator to assign the value to the object.</p>
<ul>
<li>You can also use <code>=</code>, but generally in R, <code>&lt;-</code> is the convention.</li>
<li>Keyboard shortcut: <code>Alt</code> + <code>-</code> in Windows (<code>Option</code> + <code>-</code> in Mac)</li>
</ul></li>
<li><p>Object name rules:</p>
<ul>
<li><p>Can’t start with numbers</p></li>
<li><p>Case sensitive</p></li>
<li><p>No spaces</p></li>
<li><p>Some reserved words (like some function names in R)</p></li>
</ul></li>
</ul>
</section>
<section id="refresher-quantitative-data-types" class="slide level2">
<h2>Refresher: Quantitative Data Types</h2>
<ul>
<li><p><u><strong>Non-Continuous Data</strong></u></p>
<ul>
<li><p><strong>Nominal/Categorical</strong>: Non-ordered, non-numerical data, used to represent qualitative attribute.</p>
<ul>
<li>Example: nationality, neighborhood, employment status</li>
</ul></li>
<li><p><strong>Ordinal</strong>: Ordered non-numerical data.</p>
<ul>
<li>Example: Nutri-grade ratings, frequency of exercise (daily, weekly, bi-weekly)</li>
</ul></li>
<li><p><strong>Discrete</strong>: Numerical data that can only take specific value (usually integers)</p>
<ul>
<li>Example: Shoe size, clothing size</li>
</ul></li>
<li><p><strong>Binary</strong>: Nominal data with only two possible outcome</p>
<ul>
<li>Example: pass/fail, yes/no, survive/not survive</li>
</ul></li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li><p><u><strong>Continuous Data</strong></u></p>
<ul>
<li><p><strong>Interval</strong>: Numerical data that can take any value within a range. <u>It does not have a “true zero”.</u></p>
<ul>
<li>Example: Celsius scale. Temperature of 0 C does not represent absence of heat.</li>
</ul></li>
<li><p><strong>Ratio</strong>: Numerical data that can take any value within a range. <u>it has a “true zero”.</u></p>
<ul>
<li>Example: Annual income. annual income of 0 represents no income.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="data-types-in-r" class="slide level2">
<h2>Data Types in R</h2>
<p>The four basic data types are <strong>characters</strong>, <strong>numeric</strong>, <strong>boolean</strong>, and integer. Let’s look at examples using our WVS survey variables:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" data-code-line-numbers="|1|2|3|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a>country_code <span class="ot">&lt;-</span> <span class="st">"SGP"</span> <span class="co"># Character</span></span>
<span id="cb3-2"><a></a>life_satisfaction <span class="ot">&lt;-</span> <span class="fl">8.5</span> <span class="co"># Numeric (also sometimes called Double)</span></span>
<span id="cb3-3"><a></a>is_religious <span class="ot">&lt;-</span> <span class="cn">TRUE</span> <span class="co"># Boolean/Logical (TRUE/FALSE). case sensitive</span></span>
<span id="cb3-4"><a></a>birth_year <span class="ot">&lt;-</span> <span class="dv">1990</span>L <span class="co"># Integer (whole numbers)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>To include comments in the code, use the # character.</p></li>
<li><p>Anything to the right of the # sign and up to the end of the line is treated as a comment and is ignored by R when executing.</p></li>
<li><p>Good practice to make notes and explain the codes.</p></li>
</ul>
</section>
<section id="checking-data-type-of-a-variable" class="slide level2">
<h2>Checking data type of a variable</h2>
<p>You can use <code>str</code> or <code>typeof</code> to check the data type of an R object.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="fu">typeof</span>(country_code)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a><span class="fu">str</span>(is_religious) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> logi TRUE</code></pre>
</div>
</div>
<p><strong><code>str</code> returns both data type and value.</strong></p>
</section>
<section id="arithmetic-operations-in-r" class="slide level2">
<h2>Arithmetic operations in R</h2>
<p>You can do arithmetic operations in R. For example, let’s calculate average satisfaction scores:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a>(<span class="dv">8</span> <span class="sc">+</span> <span class="dv">7</span> <span class="sc">+</span> <span class="dv">9</span>) <span class="sc">/</span> <span class="dv">3</span>  <span class="co"># Average of three satisfaction scores</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a><span class="dv">2025</span> <span class="sc">-</span> <span class="dv">1990</span>  <span class="co"># Calculate age from birth year</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 35</code></pre>
</div>
</div>
</section>
<section id="boolean-operations-in-r---simple-truefalse-statements" class="slide level2">
<h2>Boolean operations in R - Simple TRUE/FALSE statements</h2>
<p>Boolean operations in R are useful for filtering survey data. Before that, let’s look at how R evaluates simple TRUE/FALSE statements</p>
<p>Is life_satisfaction greater than 8?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a>life_satisfaction <span class="ot">&lt;-</span> <span class="fl">8.5</span> <span class="co"># assign a value of 8.5 to life_satisfaction</span></span>
<span id="cb12-2"><a></a>life_satisfaction <span class="sc">&gt;</span> <span class="dv">8</span>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Is the country Singapore?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a>country_code <span class="sc">==</span> <span class="st">"SGP"</span>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Is the country NOT Singapore?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a></a>country_code <span class="sc">!=</span> <span class="st">"SGP"</span>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</section>
<section id="boolean-operations-in-r---and-operator" class="slide level2">
<h2>Boolean operations in R - AND operator</h2>
<p>Sometimes, we may have multiple statements to evaluate. This is where the Boolean Operators will come handy.</p>
<p><strong>AND</strong> operations (both conditions must be TRUE). In R, it is represented by ampersand <code>&amp;</code></p>
<p>Is the country New Zealand AND is the life satisfaction more than 8?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a>(country_code <span class="sc">==</span> <span class="st">"NZL"</span>) <span class="sc">&amp;</span> (life_satisfaction <span class="sc">&gt;</span> <span class="dv">8</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p><code>country_code == "NZL"</code> is FALSE while <code>life_satisfaction &gt; 8</code> is TRUE</p>
<p>The whole statement will return FALSE because not all conditions TRUE.</p>
</section>
<section id="boolean-operations-in-r---or-operator" class="slide level2">
<h2>Boolean operations in R - OR operator</h2>
<p><strong>OR</strong> operations (at least one condition must be TRUE). In R, it is represented by pipe symbol <code>|</code></p>
<p>Is the country New Zealand OR is the life satisfaction more than 8?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a>(country_code <span class="sc">==</span> <span class="st">"NZL"</span>) <span class="sc">|</span> (life_satisfaction <span class="sc">&gt;</span> <span class="dv">8</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>As long as one condition is met, this will be TRUE.</p>
</section>
<section id="functions-in-r" class="slide level2">
<h2>Functions in R</h2>
<ul>
<li><p>A function is like a recipe in cooking.</p></li>
<li><p>It takes some ingredients (inputs) and uses a set of instructions to produce a result (output).</p></li>
<li><p>In R, a function is a pre-written set of recipes/instructions that performs a specific task. Function name will always be followed by round brackets <code>()</code></p></li>
</ul>
<p>Example: <code>round()</code> function in R will round up numbers.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a></a><span class="fu">round</span>(<span class="fl">3.1415926</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<ul>
<li><code>round()</code> is the “recipe”, while <code>3.1415926</code> is the “ingredients”</li>
</ul>
<p>Saving the result to an object:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a></a>rounded_pi <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fl">3.1415926</span>)</span>
<span id="cb24-2"><a></a><span class="fu">print</span>(rounded_pi)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</section>
<section id="functions-with-arguments-in-r" class="slide level2">
<h2>Functions with Arguments in R</h2>
<ul>
<li><p>Following the recipe analogy, arguments are the ingredients you provide to a function. function_name(arguments/parameters)</p></li>
<li><p>Some arguments are required, while others are optional (they have default values).</p></li>
<li><p>Each argument tells the function what to use or how to perform the task.</p></li>
<li><p>Example: Think of a bubble tea order as a function. The possible arguments/ingredients here are:</p>
<ul>
<li><p>Tea - required ingredient</p></li>
<li><p>Milk - optional, the default is to include</p></li>
<li><p>Toppings - optional, the default choice is “pearls”</p></li>
</ul></li>
</ul>
<p>In R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a></a><span class="fu">round</span>(<span class="fl">3.1415926</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.14</code></pre>
</div>
</div>
<ul>
<li><p><code>3.1415926</code> is the required argument (if this is not provided, the function will not run)</p></li>
<li><p><code>digits</code> is an optional argument specifying how many decimal places to round to (the default is 0)</p></li>
</ul>
</section>
<section id="how-do-i-find-out-more-about-a-particular-function" class="slide level2">
<h2>How do I find out more about a particular function?</h2>
<p>You can call the help page / vignette in R by prepending <code>?</code> to the function name.</p>
<p>E.g. if you want to find out more about the <code>round</code> function, you can run <code>?round</code> in your R console (bottom left panel)</p>
</section>
<section id="packages-in-r" class="slide level2">
<h2>Packages in R</h2>
<ul>
<li><p>Packages are a collections of R functions, datasets, etc. Packages extend the functionality of R.</p>
<ul>
<li>(Closest analogy I can think of is that they’re equivalent of browser add-ons, in a way)</li>
</ul></li>
<li><p>Popular packages: <code>tidyverse</code>, <code>caret</code>, <code>shiny</code>, etc.</p></li>
<li><p>Installation (<strong>you only need to do this once</strong>): <code>install.packages("package name")</code></p></li>
<li><p>Loading packages (<em>you need to run this everytime you restart RStudio</em>): <code>library(package name)</code> - let’s try to load <code>tidyverse</code>!</p>
<ul>
<li>Tidyverse is a well-known collection of packages that facilitates data science projects. It includes packages for data manipulation, visualization, importing, and tidying.</li>
</ul></li>
</ul>
</section>
<section id="data-structures-in-r" class="slide level2">
<h2>Data Structures in R</h2>
<p>We will start with exploring 3 basic types of data <strong>structures</strong> in R:</p>
<div class="columns">
<div class="column" style="width:40%;">
<ol type="1">
<li><p><strong>Vector</strong> - can hold multiple values in a single variable/object.</p></li>
<li><p><strong>Factor</strong> - Special data structure in R to handle categorical variables.</p></li>
<li><p><strong>Data frame</strong> - De facto data structure for tabular data in R, and what we use for data processing, plotting, and statistics.</p></li>
</ol>
</div><div class="column" style="width:60%;">
<p><img data-src="images/data-structures.svg"></p>
</div></div>
</section>
<section id="data-structures-in-r-vectors" class="slide level2">
<h2>Data Structures in R: Vectors</h2>
<p>Think of vectors as a column in a dataset. It is the most common and basic data structure in R. (pretty much the workhorse of R!)</p>
<ul>
<li><p>A vector can only contain 1 data type.</p></li>
<li><p>Vector can be created with c() function.</p></li>
<li><p>Can add, remove, or change values in a vector.</p></li>
<li><p>Inspect vectors: typeof(), str(), length()</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a></a>countries <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"CAN"</span>, <span class="st">"NZL"</span>, <span class="st">"SGP"</span>, <span class="st">"CAN"</span>, <span class="st">"SGP"</span>)</span>
<span id="cb28-2"><a></a>satisfaction_scores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">8</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">6</span>, <span class="dv">8</span>)</span>
<span id="cb28-3"><a></a>employment_status <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Full time"</span>, <span class="st">"Student"</span>, <span class="st">"Part time"</span>, <span class="st">"Retired"</span>, <span class="st">"Full time"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="vector-manipulations-retrieve-and-update-items" class="slide level2">
<h2>Vector Manipulations: Retrieve and update items</h2>
<p>Retrieve the first country in the vector</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a></a>countries[<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "CAN"</code></pre>
</div>
</div>
<p>Retrieves the first three satisfaction scores</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a></a>satisfaction_scores[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8 7 9</code></pre>
</div>
</div>
<p>Retrieves the first and the third satisfaction scores</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a></a>satisfaction_scores[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8 9</code></pre>
</div>
</div>
<p>Update the first satisfaction score</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a></a>satisfaction_scores[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb35-2"><a></a><span class="fu">print</span>(satisfaction_scores)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7 7 9 6 8</code></pre>
</div>
</div>
</section>
<section id="why-square-brackets-and-not-round-brackets" class="slide level2">
<h2>Why square brackets and not round brackets?</h2>
<p>Round brackets <code>()</code> are for running functions, like using a tool: <code>mean()</code> or <code>sum()</code>.</p>
<p>Square brackets <code>[]</code> are for accessing specific parts of your data, where we pass the index number(s) of the element(s) we want.</p>
</section>
<section id="vector-manipulations-retrieve-items-based-on-criteria" class="slide level2">
<h2>Vector Manipulations: Retrieve items based on criteria</h2>
<p>Let’s find high satisfaction scores (above 7)!</p>
<ul>
<li><p>The code below will create a boolean vector called <code>criteria</code> that basically keep tracks on whether each items inside <code>satisfaction_scores</code> fulfil our condition.</p></li>
<li><p>The condition is “value must be &gt; 7”. e.g.&nbsp;if item 1 fulfils our condition, then item 1 is ‘marked’ as <code>TRUE</code>. Otherwise, it will be <code>FALSE</code></p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a></a><span class="co"># Create boolean vector for our condition</span></span>
<span id="cb37-2"><a></a>criteria <span class="ot">&lt;-</span> satisfaction_scores <span class="sc">&gt;</span> <span class="dv">7</span></span>
<span id="cb37-3"><a></a><span class="fu">print</span>(criteria)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE  TRUE FALSE  TRUE</code></pre>
</div>
</div>
<ul>
<li>This line of code applies the boolean vector <code>criteria</code> to <code>satisfaction_scores</code>, and only retrieve items that fulfils the condition. i.e.&nbsp;only return TRUE value <code>criteria</code> vector</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a></a><span class="co"># Use the boolean vector to filter satisfaction scores</span></span>
<span id="cb39-2"><a></a>satisfaction_scores[criteria]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9 8</code></pre>
</div>
</div>
</section>
<section id="vector-manipulations-add-items" class="slide level2">
<h2>Vector Manipulations: Add items</h2>
<p>Several ways to add items to a vector</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-23"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-23-1" class="code-annotation-target"><a href="#annotated-cell-23-1"></a>satisfaction_scores <span class="ot">&lt;-</span> <span class="fu">c</span>(satisfaction_scores, <span class="dv">7</span>)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-23-2" class="code-annotation-target"><a href="#annotated-cell-23-2"></a>satisfaction_scores <span class="ot">&lt;-</span> <span class="fu">c</span>(satisfaction_scores, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-23-3" class="code-annotation-target"><a href="#annotated-cell-23-3"></a>satisfaction_scores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">8</span>, satisfaction_scores)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-23-4" class="code-annotation-target"><a href="#annotated-cell-23-4"></a>satisfaction_scores <span class="ot">&lt;-</span> <span class="fu">append</span>(satisfaction_scores, <span class="dv">9</span>, <span class="at">after =</span> <span class="dv">2</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-23" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="1" data-code-annotation="1">Add a single score to the end of the vector using c()</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="2" data-code-annotation="2">Add multiple scores to the end</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="3" data-code-annotation="3">Add a score to the beginning</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="4" data-code-annotation="4">Insert a score at a specific position using append(vector_name, elements_to_be_added, from_the_position)</span>
</dd>
</dl>
</div>
</div>
</section>
<section id="vector-manipulations-remove-items" class="slide level2">
<h2>Vector Manipulations: Remove items</h2>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-24"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-24-1" class="code-annotation-target"><a href="#annotated-cell-24-1"></a>satisfaction_scores <span class="ot">&lt;-</span> satisfaction_scores[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>)]</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-24-2" class="code-annotation-target"><a href="#annotated-cell-24-2"></a>satisfaction_scores <span class="ot">&lt;-</span> satisfaction_scores[satisfaction_scores <span class="sc">&lt;=</span> <span class="dv">7</span>]</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-24-3" class="code-annotation-target"><a href="#annotated-cell-24-3"></a>satisfaction_scores <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(satisfaction_scores)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-24" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="1" data-code-annotation="1">Remove elements by index using “negative indexing”</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="2" data-code-annotation="2">Remove elements based on a condition using logical indexing. Remove these items which are FALSE.</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="3" data-code-annotation="3">Remove NA values from the vector</span>
</dd>
</dl>
</div>
</div>
</section>
<section id="vector-manipulations-handle-na-values" class="slide level2">
<h2>Vector Manipulations: Handle NA values</h2>
<ul>
<li><p>NA values indicate null values, or the absence of a value (0 is still a value!)</p></li>
<li><p>Summary functions like <code>mean</code> needs you to inlcude argument called <code>na.rm</code> on how you want it to be handled.</p></li>
</ul>
<p>Survey data often contains missing values (NA):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a></a>financial_satisfaction <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">8</span>, <span class="dv">7</span>, <span class="cn">NA</span>, <span class="dv">6</span>, <span class="dv">9</span>, <span class="cn">NA</span>, <span class="dv">7</span>)</span>
<span id="cb41-2"><a></a></span>
<span id="cb41-3"><a></a><span class="co"># By default, mean() will return NA if there are any NA values</span></span>
<span id="cb41-4"><a></a><span class="fu">mean</span>(financial_satisfaction)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a></a><span class="co"># Remove NA values before calculating mean by including na.rm = TRUE</span></span>
<span id="cb43-2"><a></a><span class="fu">mean</span>(financial_satisfaction, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.4</code></pre>
</div>
</div>
</section>
<section id="data-structures-in-r-factors" class="slide level2">
<h2>Data Structures in R: Factors</h2>
<ul>
<li><p>Special data structure in R to deal with categorical data.</p></li>
<li><p>Look (and often behave) like character vectors but are actually treated as integer vectors.</p></li>
<li><p>Can only contain a predefined set of values, known as levels. R always sorts levels in alphabetical order</p></li>
<li><p>Can be ordered (ordinal) or unordered (nominal).</p></li>
<li><p>May look like a normal vector at first glance, so use <code>str()</code> to check.</p></li>
</ul>
</section>
<section class="slide level2">

<p>Unordered (Nominal):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a></a>employment_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">"Full time"</span>, <span class="st">"Part time"</span>, <span class="st">"Student"</span>, <span class="st">"Retired"</span>, <span class="st">"Student"</span>))</span>
<span id="cb45-2"><a></a><span class="fu">str</span>(employment_factor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Factor w/ 4 levels "Full time","Part time",..: 1 2 4 3 4</code></pre>
</div>
</div>
<p>Ordered (Ordinal):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a></a>importance_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(</span>
<span id="cb47-2"><a></a>    <span class="fu">c</span>(<span class="st">"Very important"</span>, <span class="st">"Important"</span>, <span class="st">"Not very important"</span>, <span class="st">"Not at all important"</span>),</span>
<span id="cb47-3"><a></a>    <span class="at">ordered =</span> <span class="cn">TRUE</span>,</span>
<span id="cb47-4"><a></a>    <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Not at all important"</span>, <span class="st">"Not very important"</span>, <span class="st">"Important"</span>, <span class="st">"Very important"</span>)</span>
<span id="cb47-5"><a></a>)</span>
<span id="cb47-6"><a></a><span class="fu">str</span>(importance_factor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Ord.factor w/ 4 levels "Not at all important"&lt;..: 4 3 2 1</code></pre>
</div>
</div>
</section>
<section id="data-structures-in-r-dataframe" class="slide level2">
<h2>Data Structures in R: Dataframe</h2>
<ul>
<li><p>De facto data structure for tabular data in R, and what we use for data processing, plotting, and statistics.</p></li>
<li><p>Similar to spreadsheets - a rectangular collection of variables (columns) and observations (rows)!</p></li>
<li><p>You can create it by hand like so:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a></a>survey_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb49-2"><a></a>    <span class="at">country =</span> <span class="fu">c</span>(<span class="st">"SGP"</span>, <span class="st">"CAN"</span>, <span class="st">"NZL"</span>, <span class="st">"SGP"</span>, <span class="st">"CAN"</span>),</span>
<span id="cb49-3"><a></a>    <span class="at">life_satisfaction =</span> <span class="fu">c</span>(<span class="dv">8</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">6</span>, <span class="dv">8</span>),</span>
<span id="cb49-4"><a></a>    <span class="at">employment =</span> <span class="fu">c</span>(<span class="st">"Full time"</span>, <span class="st">"Student"</span>, <span class="st">"Part time"</span>, <span class="st">"Retired"</span>, <span class="st">"Full time"</span>)</span>
<span id="cb49-5"><a></a>)</span>
<span id="cb49-6"><a></a><span class="fu">print</span>(survey_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  country life_satisfaction employment
1     SGP                 8  Full time
2     CAN                 7    Student
3     NZL                 9  Part time
4     SGP                 6    Retired
5     CAN                 8  Full time</code></pre>
</div>
</div>
</section>
<section id="data-structures-in-r-others" class="slide level2">
<h2>Data Structures in R: Others</h2>
<ul>
<li><p>Lists: A type of recursive vector</p></li>
<li><p>Matrices: A collection of elements of the same type in rows and columns</p></li>
</ul>
</section>
<section id="downloading-the-world-values-survey-wvs-dataset" class="slide level2">
<h2>Downloading the World Values Survey (WVS) Dataset</h2>
<p>For this workshop, we will try loading a dataset from a file.</p>
<p>Go to the course website and go to the <a href="https://bellaratmelia.github.io/introductory-r-socsci/dataset.html">‘Dataset’</a> tab to download the data file and information about this WVS data</p>
<p>Download this CSV and save it under your <code>data</code> folder in your R project!</p>
</section>
<section id="loading-the-wvs-dataset" class="slide level2">
<h2>Loading the WVS Dataset</h2>
<p>Let’s load our actual World Values Survey dataset using read_csv function.</p>
<p>Before use read_csv install and load package tidyverse. Install the package only once and need to load the package in every session before you use it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb51-2"><a></a></span>
<span id="cb51-3"><a></a>wvs_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/wvs-wave7-sg-ca-nz.csv"</span>)  </span>
<span id="cb51-4"><a></a><span class="fu">head</span>(wvs_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Make sure to save the CSV file in your data folder! (No auto save)</p>
</section>
<section id="exploring-the-wvs-dataset" class="slide level2">
<h2>Exploring the WVS Dataset</h2>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-31"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-31-1" class="code-annotation-target"><a href="#annotated-cell-31-1"></a><span class="fu">dim</span>(wvs_data)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-31-2" class="code-annotation-target"><a href="#annotated-cell-31-2"></a><span class="fu">names</span>(wvs_data)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-31-3" class="code-annotation-target"><a href="#annotated-cell-31-3"></a><span class="fu">str</span>(wvs_data)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-31-4" class="code-annotation-target"><a href="#annotated-cell-31-4"></a><span class="fu">summary</span>(wvs_data)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-31-5" class="code-annotation-target"><a href="#annotated-cell-31-5"></a><span class="fu">head</span>(wvs_data, <span class="at">n=</span><span class="dv">5</span>)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-31-6" class="code-annotation-target"><a href="#annotated-cell-31-6"></a><span class="fu">tail</span>(wvs_data, <span class="at">n=</span><span class="dv">5</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-31" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="1" data-code-annotation="1">return a vector of number of rows and columns</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="2" data-code-annotation="2">inspect columns</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="3" data-code-annotation="3">inspect structure</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="4" data-code-annotation="4">print the summary stats of the entire dataframe</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="5" data-code-annotation="5">view the first 5 rows</span>
</dd>
<dt data-target-cell="annotated-cell-31" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="6" data-code-annotation="6">view the last 5 rows</span>
</dd>
</dl>
</div>
</div>
</section>
<section id="basic-dataframe-manipulations-retrieving-values" class="slide level2">
<h2>Basic dataframe manipulations: Retrieving values</h2>
<p>Some basic dataframe functions before we move on to data wrangling next week:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-32"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-32-1" class="code-annotation-target"><a href="#annotated-cell-32-1"></a>wvs_data[<span class="st">"country"</span>]</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-32-2" class="code-annotation-target"><a href="#annotated-cell-32-2"></a>wvs_data<span class="sc">$</span>country</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-32-3" class="code-annotation-target"><a href="#annotated-cell-32-3"></a>wvs_data[<span class="dv">3</span>]</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-32-4" class="code-annotation-target"><a href="#annotated-cell-32-4"></a>wvs_data[<span class="dv">1</span>, <span class="dv">4</span>]</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-32-5" class="code-annotation-target"><a href="#annotated-cell-32-5"></a>wvs_data[<span class="dv">3</span>, ]</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-32" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="1" data-code-annotation="1">retrieve column by column name (returns as tibble/dataframe)</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="2" data-code-annotation="2">another way to retrieve column by name (returns as vector)</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="3" data-code-annotation="3">retrieve column by index</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="4" data-code-annotation="4">get a cell at this row, column coord</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="5" data-code-annotation="5">get an entire row</span>
</dd>
</dl>
</div>
</div>
</section>
<section id="trouble-shooting" class="slide level2">
<h2>Trouble Shooting</h2>
<p>Types of messages</p>
<ul>
<li><p>Error: Fatal error in your code that prevented it from being run through successfully. Need to fix it for the code to run.</p></li>
<li><p>Warning: Non-fatal errors (don’t stop the code from running, but this is a potential problem that you should know about).</p></li>
<li><p>Message: Helpful information about the code you just ran(can usually ignore these messages)</p></li>
</ul>
</section>
<section id="trouble-shooting-1" class="slide level2">
<h2>Trouble Shooting</h2>
<p>Check. Did you…</p>
<ul>
<li><p>Set your working directory?</p></li>
<li><p>Check for missing commas (,), parentheses ()?</p></li>
<li><p>Check your spelling?</p>
<ul>
<li><p>Spelling : Punctuation &lt;- mea<strong>a</strong>n(c(1, 2, 3, 4)) or print(Punctuati<strong>o</strong>on)</p></li>
<li><p>Punctuation : sum(10?20) or Punctuation &lt;- sum(c(10, 20))<strong>)</strong></p></li>
<li><p>Capitalization : s<strong>U</strong>m(c(5, 10, 15))</p></li>
<li><p>In text indicators : X <strong>+</strong> Y or <strong>#</strong>taking notes or “name” vs name</p></li>
</ul></li>
</ul>
</section>
<section id="recap" class="slide level2">
<h2>Recap</h2>
<ul>
<li><p>R &amp; RStudio: R is a programming language for statistical computing and graphics, while RStudio is an environment that makes it easier to write, run, and manage R code.</p></li>
<li><p>Working Directory: A folder on your computer where R reads and saves files.</p></li>
<li><p>Data Type: Types of value an object can hold, such as numeric, character, and Boolean.</p></li>
<li><p>Data Structure: Data structures organize and store data in R, such as vectors, factors, and data frames.</p></li>
<li><p>Functions: Reusable codes that perform specific tasks. Can call functions with arguments.</p></li>
<li><p>Packages: Collections of functions and data to perform tasks. Need to install and load packages.</p></li>
</ul>
</section></section>
<section id="end-of-session-1" class="title-slide slide level1 center">
<h1>End of Session 1!</h1>
<p>Next Session: Data wrangling with <code>dplyr</code> and <code>tidyr</code> packages - we’ll learn how to:</p>
<ul>
<li><p>Filter survey responses by country</p></li>
<li><p>Calculate average satisfaction scores by demographic groups</p></li>
<li><p>Create new variables from existing ones</p></li>
<li><p>Handle missing values in survey data</p></li>
<li><p>And much more!</p></li>
</ul>


</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="images/smu logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://bellaratmelia.github.io/introductory-r-socsci/">Introductory R for Social Science</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>